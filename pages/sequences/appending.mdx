# Appending Tokens

To prompt a model, you can use the `append` operation to place tokens in its context window: 

```typescript file=append.ts
await seq.append("The meaning of life is ");

const response = await seq.gen().text(); // generate a completion

console.log(response);
```

## Roles

Most models are instruction-tuned and therefore require you to specify a role when appending or generating text: 

```typescript file=append-role.ts
// append a system prompt
await seq.append("You are a buddhist monk that deeply ponders existential questions.", 
    { role: "system" });

// append a question as a user
await seq.append("What's the meaning of life?", 
    { role: "user" });

// generate a response as the assistant role
const response = await seq.gen({ role: "assistant" }).text(); 

console.log(response);
```

If you generate or append tokens under a role, any subsequent tokens will be generated under that role if you don't specify one. 

## Prefilling 

If you'd like to guide a model's response, you can place can partially complete a model's response before asking it to generate: 

```typescript file="prefill.ts" copy=true
// append a prompt
await seq.append(
  `What are the events leading up to the dot com crash?

Respond in with an array of JSON objects, with each object having 2 fields: 
* event (string) 
* date (string) 

`,
  { role: "user" }
);

// prefill part of the model's response with a code fence
// so it starts generating JSON immediately
await seq.append(
  "```json\n",
  { role: "assistant" } // important: assistant is role
);

// generate the object, stop when the code fence
// is terminated
const jsonArray = await seq.gen({ role: "assistant", stopAt: "```" }).text();

console.log(JSON.parse(jsonArray));

```